<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-gb" lang="en-gb" dir="ltr">
<head>
	  <base href="" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="robots" content="noindex, nofollow" />
  <meta name="keywords" content="messy lab, messylab, ide, assembler, assembly, picocomputer" />
  <meta name="title" content="Branch" />
  <meta name="author" content="Miloš Anđelković" />
  <meta name="description" content="Messy Lab - IDE for Assembly Programming Training" />
  <meta name="generator" content="Joomla! 1.5 - Open Source Content Management" />
  <title>Branch</title>
  <link href="../../templates/messy_lab/favicon.ico" rel="shortcut icon" type="image/x-icon" />
  <script type="text/javascript" src="../../media/system/js/mootools.js"></script>
  <script type="text/javascript" src="../../media/system/js/caption.js"></script>

	<link rel="stylesheet" href="../../templates/messy_lab/css/template.css" type="text/css" />
</head>
<body class="contentpane">
	
	<table class="contentpaneopen">
<tr>
		<td class="contentheading" width="100%">
					Branch			</td>
				<td align="right" width="100%" class="buttonheading">
		<a href="branch.html#" onclick="window.print();return false;"><img src="../../images/M_images/printButton.png" alt="Print"  /></a>		</td>
	</tr>
</table>

<table class="contentpaneopen">



<tr>
<td valign="top">
<p>Branch instructions are used to control the execution flow of the program. Essentially, they alter the value of the PC (program counter) processor register if certain condition is met. Thus, the program can continue executing in two directions, hence the name branch. These instructions are also known as Jump instructions.</p>
<p>picoComputer has two branch instructions.</p>
<table class="articletable" border="0">
<tbody>
<tr>
<td style="background-color: transparent;">&nbsp;</td>
<th>OP Code</th><th>Symbolic name</th>
</tr>
<tr>
<th scope="row">Branch If Equal</th>
<td>0101</td>
<td>BEQ<br /></td>
</tr>
<tr>
<th valign="top" scope="row">Branch If Greater</th>
<td>0110</td>
<td>BGT</td>
</tr>
</tbody>
</table>
<p>There are two formats of branch instructions, depending on the way the destination address is specified.</p>
<p> </p>
<p>When the address is specified in the second word of the instruction, the following format is used:</p>
<p><code>BEQ x, y, is_eq<br /></code></p>
<p><code>BGT (x), (y), is_gt<br /></code></p>
<table class="articletable">
<tbody>
<tr>
<th colspan="4" scope="col">OP Code</th> <th scope="col">i1</th> <th colspan="3" scope="col">a1</th> <th scope="col">i2</th> <th colspan="3" scope="col">a2</th> <th scope="col">i3</th> <th colspan="3" scope="col">a3</th>
</tr>
<tr>
<td>op<br /></td>
<td>op<br /></td>
<td>op<br /></td>
<td>op<br /></td>
<td>x<br /></td>
<td>x<br /></td>
<td>x<br /></td>
<td>x<br /></td>
<td>y<br /></td>
<td>y<br /></td>
<td>y<br /></td>
<td>y<br /></td>
<td>1<br /></td>
<td>0<br /></td>
<td>0<br /></td>
<td>0</td>
</tr>
<tr>
<td valign="top">c</td>
<td valign="top">c</td>
<td valign="top">c</td>
<td valign="top">c</td>
<td valign="top">c</td>
<td valign="top">c</td>
<td valign="top">c</td>
<td valign="top">c</td>
<td valign="top">c</td>
<td valign="top">c</td>
<td valign="top">c</td>
<td valign="top">c</td>
<td valign="top">c</td>
<td valign="top">c</td>
<td valign="top">c</td>
<td valign="top">
<p>c</p>
</td>
</tr>
</tbody>
</table>
<p>When <span style="font-family: courier new,courier;"><strong>i3</strong></span> equals 1, and <span style="font-family: courier new,courier;"><strong>a3</strong></span> equals 0, <span style="font-family: courier new,courier;"><strong>c</strong></span> is the the destination address.</p>
<p>Please note that <span style="font-family: courier new,courier;"><strong>is_eq</strong></span> and <span style="font-family: courier new,courier;"><strong>is_gt</strong></span> from the example are actually labels defined in front of the destination instructions.</p>
<p> </p>
<p>When the address is specified in a memory location from the Fixed Data Area, the following format is used:</p>
<p><code>BEQ x, (y), (a)<br /></code></p>
<p><code>BGT (x), y, (a)<br /></code></p>
<table class="articletable">
<tbody>
<tr>
<th colspan="4" scope="col">OP Code</th> <th scope="col">i1</th> <th colspan="3" scope="col">a1</th> <th scope="col">i2</th> <th colspan="3" scope="col">a2</th> <th scope="col">i3</th> <th colspan="3" scope="col">a3</th>
</tr>
<tr>
<td>op<br /></td>
<td>op<br /></td>
<td>op<br /></td>
<td>op<br /></td>
<td>x<br /></td>
<td>x<br /></td>
<td>x<br /></td>
<td>x<br /></td>
<td>y<br /></td>
<td>y<br /></td>
<td>y<br /></td>
<td>y<br /></td>
<td>0<br /></td>
<td>a<br /></td>
<td>a<br /></td>
<td>a<br /></td>
</tr>
</tbody>
</table>
<p>When <span style="font-family: courier new,courier;"><strong>i3</strong></span> equals 0, <span style="font-family: courier new,courier;"><strong>a3</strong></span> is the address of the memory location within the FDA that holds the destination address of the jump.</p>
<p> </p>
<p>Operands <span style="font-family: courier new,courier;"><strong>x</strong></span> and <span style="font-family: courier new,courier;"><strong>y</strong></span> that are being compared in both of the formats are encoded as usual - with one exception! If both <span style="font-family: courier new,courier;"><strong>i</strong></span> and <span style="font-family: courier new,courier;"><strong>a</strong></span> fields equal 0, the operand is not the content of the memory location at address 0, but the constant 0. It is the only allowed constant in branch instructions.</p>
<p>The following example checks whether x equals 0:</p>
<p><code>BEQ x, 0, is_zero<br /></code></p></td>
</tr>

</table>
<span class="article_separator">&nbsp;</span>

</body>
</html>
