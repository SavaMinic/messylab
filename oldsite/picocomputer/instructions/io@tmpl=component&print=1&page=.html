<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-gb" lang="en-gb" dir="ltr">
<head>
	  <base href="" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="robots" content="noindex, nofollow" />
  <meta name="keywords" content="messy lab, messylab, ide, assembler, assembly, picocomputer" />
  <meta name="title" content="I/O" />
  <meta name="author" content="Miloš Anđelković" />
  <meta name="description" content="Messy Lab - IDE for Assembly Programming Training" />
  <meta name="generator" content="Joomla! 1.5 - Open Source Content Management" />
  <title>I/O</title>
  <link href="../../templates/messy_lab/favicon.ico" rel="shortcut icon" type="image/x-icon" />
  <script type="text/javascript" src="../../media/system/js/mootools.js"></script>
  <script type="text/javascript" src="../../media/system/js/caption.js"></script>

	<link rel="stylesheet" href="../../templates/messy_lab/css/template.css" type="text/css" />
</head>
<body class="contentpane">
	
	<table class="contentpaneopen">
<tr>
		<td class="contentheading" width="100%">
					I/O			</td>
				<td align="right" width="100%" class="buttonheading">
		<a href="io.html#" onclick="window.print();return false;"><img src="../../images/M_images/printButton.png" alt="Print"  /></a>		</td>
	</tr>
</table>

<table class="contentpaneopen">



<tr>
<td valign="top">
<p>There are two basic ways to handle communication with the Input/Output Devices. Either memory mapping is used, or there are special instructions used for the I/O.</p>
<p>If memory mapping is used, certain memory addresses are assigned to I/O Devices and the communication is achieved using the normal memory access instructions.</p>
<p>If dedicated I/O instructions are used, I/O Devices are accessed using an independent addressing system. picoComputer uses this approach, however, since it supports only a single device, there is no need for addresses at all.</p>
<table class="articletable" border="0">
<tbody>
<tr>
<td style="background-color: transparent;"></td>
<th>OP Code</th><th>Symbolic name</th>
</tr>
<tr>
<th scope="row">Input<br /></th>
<td>0111</td>
<td>IN<br /></td>
</tr>
<tr>
<th valign="top" scope="row">Output</th>
<td>1000</td>
<td>OUT</td>
</tr>
</tbody>
</table>
<p>The I/O instructions take two operands.</p>
<p>The first one is the destination, or the source, depending on whether the operation is input or output.</p>
<p>The second one is the length of the array to be transferred. It can be omitted when writing programs, and if that is the case, the default value (1) is used.</p>
<p> </p>
<p>Depending on how the array length is stored, there are two formats of the instruction.</p>
<p> </p>
<p>If the array length is stored in memory, the following format is used:</p>
<p><code>IN x, (n)<br /></code></p>
<p><code>OUT (x), n<br /></code></p>
<table class="articletable">
<tbody>
<tr>
<th colspan="4" scope="col">OP Code</th> <th scope="col">i1</th> <th colspan="3" scope="col">a1</th> <th scope="col">i2</th> <th colspan="3" scope="col">a2</th> <th scope="col">i3</th> <th colspan="3" scope="col">a3</th>
</tr>
<tr>
<td>op<br /></td>
<td>op<br /></td>
<td>op<br /></td>
<td>op<br /></td>
<td>x<br /></td>
<td>x<br /></td>
<td>x<br /></td>
<td>x<br /></td>
<td>1<br /></td>
<td>0<br /></td>
<td>0<br /></td>
<td>0<br /></td>
<td>n<br /></td>
<td>n<br /></td>
<td>n<br /></td>
<td>n<br /></td>
</tr>
</tbody>
</table>
<p>When <strong><span style="font-family: courier new,courier;">i2</span></strong> equals 1 and <span style="font-family: courier new,courier;"><strong>a2</strong></span> equals 0, the length is in the memory location <span style="font-family: courier new,courier;"><strong>n</strong></span>.</p>
<p> </p>
<p>If the length is stored as a constant within the instruction, the following format is used:</p>
<p><code>IN x, 5<br /></code></p>
<p><code>OUT (x), #c<br /></code></p>
<table class="articletable">
<tbody>
<tr>
<th colspan="4" scope="col">OP Code</th> <th scope="col">i1</th> <th colspan="3" scope="col">a1</th> <th scope="col">i2</th> <th colspan="3" scope="col">a2</th> <th scope="col">i3</th> <th colspan="3" scope="col">a3</th>
</tr>
<tr>
<td>op<br /></td>
<td>op<br /></td>
<td>op<br /></td>
<td>op<br /></td>
<td>x<br /></td>
<td>x<br /></td>
<td>x<br /></td>
<td>x<br /></td>
<td>0<br /></td>
<td>c<br /></td>
<td>c<br /></td>
<td>c<br /></td>
<td>c<br /></td>
<td>c<br /></td>
<td>c<br /></td>
<td>c<br /></td>
</tr>
</tbody>
</table>
<p>When <span style="font-family: courier new,courier;"><strong>i2</strong></span> equals 0, <span style="font-family: courier new,courier;"><strong>a2</strong></span>, <span style="font-family: courier new,courier;"><strong>i3</strong></span> and <span style="font-family: courier new,courier;"><strong>a3</strong></span> are used to store the array length.</p>
<p>Unlike other instructions that feature constants (immidiate operands), I/O instructions do not use a second word. Instead, the lowest 7 bits are used. That's why <span style="font-family: courier new,courier;"><strong>c</strong></span> cannot be greater than 127.</p></td>
</tr>

</table>
<span class="article_separator">&nbsp;</span>

</body>
</html>
